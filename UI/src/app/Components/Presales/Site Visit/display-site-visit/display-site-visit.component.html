<h4 class="header">SITE VISIT</h4>
<div class="example-button-row">
  <div >
    <mat-form-field appearance="outline" class="serach-class">
      <mat-label>Search by Email</mat-label>
      <input
        matInput
        (input)="onSearch($any($event).target?.value)"
        placeholder="Enter Mail"
      />
    </mat-form-field>
  </div>

  <div >
    <button mat-flat-button class="btn-class" (click)="addSiteVisit()">
      <mat-icon class="font">add</mat-icon> ADD
    </button>
  </div>
</div>

<mat-card class="cmn-card">
  <mat-card-content class="cmn-card-content">
    <div class="tab-head">
      <table
        matSort
        mat-table
        [dataSource]="siteVisits"
        class="mat-elevation-z8"
      >
        <ng-container matColumnDef="name">
          <th
            mat-header-cell
            *matHeaderCellDef
            style="background-color: #004869; color: white"
          >
            Name
          </th>
          <td mat-cell *matCellDef="let siteVisit">
            {{ siteVisit.name }}
          </td>
        </ng-container>

        <ng-container matColumnDef="email">
          <th
            mat-header-cell
            *matHeaderCellDef
            style="background-color: #004869; color: white"
          >
            Email
          </th>
          <td mat-cell *matCellDef="let siteVisit">
            {{ siteVisit.email }}
          </td>
        </ng-container>

        <ng-container matColumnDef="flatType">
          <th
            mat-header-cell
            *matHeaderCellDef
            style="background-color: #004869; color: white"
          >
            Flat Type
          </th>
          <td mat-cell *matCellDef="let siteVisit">
            {{ siteVisit.flatType }}
          </td>
        </ng-container>

        <ng-container matColumnDef="budget">
          <th
            mat-header-cell
            *matHeaderCellDef
            style="background-color: #004869; color: white"
          >
            Budget
          </th>
          <td mat-cell *matCellDef="let siteVisit">
            {{ siteVisit.budget }}
          </td>
        </ng-container>

        <ng-container matColumnDef="source">
          <th
            mat-header-cell
            *matHeaderCellDef
            style="background-color: #004869; color: white"
          >
            Source
          </th>
          <td mat-cell *matCellDef="let siteVisit">
            {{ siteVisit.source }}
          </td>
        </ng-container>

        <ng-container matColumnDef="followupDateTime">
          <th
            mat-header-cell
            *matHeaderCellDef
            style="background-color: #004869; color: white"
          >
            Followup DateTime
          </th>
          <td mat-cell *matCellDef="let siteVisit">
            {{ siteVisit.followupDateTime }}
          </td>
        </ng-container>

        <ng-container matColumnDef="actions">
          <th
            mat-header-cell
            *matHeaderCellDef
            style="background-color: #004869; color: white"
          >
            Actions
          </th>
          <td mat-cell *matCellDef="let siteVisit">
            <mat-icon
              matTooltip="Edit"
              (click)="updateSiteVisit(siteVisit.id)"
              class="font"
              >edit</mat-icon
            >
            <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="let lead of leads; columns: displayedColumns"
        ></tr>
      </table>
    </div>
  </mat-card-content>
  <mat-card-footer>
    <mat-paginator
      [length]="totalItems"
      [pageSize]="size"
      [pageSizeOptions]="pageSizeOptions"
      (page)="onPageChange($event)"
      showFirstLastButtons
    ></mat-paginator>
  </mat-card-footer>
</mat-card>
