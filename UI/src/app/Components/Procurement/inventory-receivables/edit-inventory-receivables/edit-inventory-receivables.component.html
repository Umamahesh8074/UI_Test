<h6 class="irc-pac-header">
  {{ !isAdding ? "EDIT INVENTORY RECEIVABLE" : "EDIT  INVENTORY RECEIVABLE" }}
</h6>
<form [formGroup]="formData" (ngSubmit)="save()">
  <div class="example-container">
    <mat-card class="card" style="padding: 0">
      <mat-card-content class="cmn-mat-content mat-card-scroll">
        <div class="row" style="padding: 0 15px">
          <mat-form-field appearance="outline" class="mat-50">
            <mat-label>Purchase Order</mat-label>
            <input
              matInput
              [value]="stateInventoryReceivable.purchaseOrderCode"
              readonly
            />
          </mat-form-field>

          <mat-form-field
            class="example-full-width"
            appearance="outline"
            class="mat-50"
          >
            <mat-label>Search/Select Received By</mat-label>
            <input
              type="text"
              matInput
              [value]="selectedUser.userName ? selectedUser.userName : ''"
              (input)="searchUser($event)"
              [formControl]="userFc"
              [matAutocomplete]="userAuto"
            />
            <mat-autocomplete
              #userAuto="matAutocomplete"
              (optionSelected)="onUserSelect($event)"
              [displayWith]="displayUser"
            >
              <mat-option *ngFor="let option of users" [value]="option">
                {{ option.userName }}
              </mat-option>
            </mat-autocomplete>
            <mat-error *ngIf="userFc.hasError('required')">
              Select Incharge
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="mat-50">
            <mat-label>Received Date</mat-label>
            <input
              matInput
              [matDatepicker]="dobPicker"
              formControlName="receivedDate"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="dobPicker"
            ></mat-datepicker-toggle>
            <mat-datepicker #dobPicker></mat-datepicker>
          </mat-form-field>
        </div>

        <div class="row" style="padding: 0 15px">
          <mat-form-field appearance="outline" class="ir-mat-25">
            <mat-label>Item Category Name</mat-label>
            <input
              matInput
              [value]="stateInventoryReceivable.categoryName"
              readonly
            />
          </mat-form-field>

          <mat-form-field appearance="outline" class="ir-mat-25">
            <mat-label>Item Subcategory Name</mat-label>
            <input
              matInput
              [value]="stateInventoryReceivable.itemSubCategoryName"
              readonly
            />
          </mat-form-field>

          <mat-form-field appearance="outline" class="ir-mat-25">
            <mat-label>Item specifications</mat-label>
            <input
              matInput
              [value]="stateInventoryReceivable.specificationName"
              readonly
            />
          </mat-form-field>

          <mat-form-field appearance="outline" class="ir-mat-25">
            <mat-label>Item Unit</mat-label>
            <input
              matInput
              [value]="stateInventoryReceivable.inventoryUnitName"
              readonly
            />
          </mat-form-field>
        </div>

        <div class="row" style="padding: 0 15px">
          <mat-form-field appearance="outline" class="ir-mat-25">
            <mat-label>Original Quantity</mat-label>
            <input
              matInput
              [value]="stateInventoryReceivable.quantity"
              readonly
            />
          </mat-form-field>
          <mat-form-field appearance="outline" class="ir-mat-25">
            <mat-label>Quantity Received</mat-label>
            <input
              matInput
              type="number"
              formControlName="quantityReceived"
              (input)="checkQuantity($event)"
            />

            <div *ngIf="quantityRecivedCheck === false" class="inline-error">
              Quantity exceeds limit
            </div>
          </mat-form-field>

          <mat-form-field appearance="outline" class="ir-mat-25">
            <mat-label>Quantity Exceed</mat-label>
            <input matInput type="number" formControlName="quantityExceed" />

            <div *ngIf="quantityRecivedCheck === false" class="inline-error">
              Quantity exceeds limit
            </div>
          </mat-form-field>
        </div>

        <mat-card-footer add-mat-card-footer>
          <div style="text-align: right" class="button">
            <button
              mat-flat-button
              class="btn-class accent"
              (click)="gotoInventoryReceivables()"
            >
              BACK
            </button>
            <button
              mat-flat-button
              class="btn-class warn"
              (click)="clearForm()"
            >
              RESET
            </button>
            <button mat-flat-button class="btn-class primary">
              {{ isAdding ? "ADD" : "UPDATE" }}
            </button>
          </div>
        </mat-card-footer>
      </mat-card-content>
    </mat-card>
  </div>
</form>
