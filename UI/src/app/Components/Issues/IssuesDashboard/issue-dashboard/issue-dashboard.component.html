<div style="width: 100%">
  <div class="header-div">
    <div class="header-cont">
      <h1 class="head-text">Dashboard</h1>
      <p class="date-txt">{{ today }}</p>
    </div>
    <p class="user-txt">
      Hi {{ user.userName }}, here's what's happening today
    </p>
  </div>

  <div class="cards">
    <mat-card class="mat-card bg-blue"  (click)="navigateToIssues('open')">
      <h3 class="cardtitle">Open</h3>
      <h2 class="total">{{ openStatusCount }}</h2>
    </mat-card>
    <mat-card class="mat-card bg-orange">
      <h3 class="cardtitle">In progress</h3>
      <h2 class="total">{{ inprogressStatusCount }}</h2>
    </mat-card>
    <mat-card class="mat-card bg-purple">
      <h3 class="cardtitle">Closed</h3>
      <h2 class="total">{{ closedStatusCount }}</h2>
    </mat-card>
  </div>
  <div class="dis" style="display: flex;">
    <!-- Table Section -->
    <div style="width: 50%; margin-right: 10px;">
      <div class="table" style="height: 300px; overflow-y: auto;">
        <table mat-table #outerSort="matSort" [dataSource]="dataSource" multiTemplateDataRows class="mat-elevation-z8"
          matSort>
          <ng-container matColumnDef="projectName">
            <th mat-header-cell *matHeaderCellDef style="background-color: #004869; color: white;">
              Project
              Name</th>
            <td mat-cell *matCellDef="let element">{{element.projectName}}</td>
          </ng-container>

          <ng-container matColumnDef="open">
            <th mat-header-cell *matHeaderCellDef style="background-color: #004869; color: white;">Open
            </th>
            <td mat-cell *matCellDef="let element">{{element.open}}</td>
          </ng-container>

          <ng-container matColumnDef="inprogress">
            <th mat-header-cell *matHeaderCellDef style="background-color: #004869; color: white;">In
              Progress</th>
            <td mat-cell *matCellDef="let element">{{element.inProgress}}</td>
          </ng-container>

          <ng-container matColumnDef="closed">
            <th mat-header-cell *matHeaderCellDef style="background-color: #004869; color: white;">
              Closed
            </th>
            <td mat-cell *matCellDef="let element">{{element.closed}}</td>
          </ng-container>

          <!-- <ng-container matColumnDef="waitingForApproval">
          <th mat-header-cell *matHeaderCellDef >Waiting for Approval</th>
          <td mat-cell *matCellDef="let element">{{element.waitingForApproval}}</td>
        </ng-container> -->

          <ng-container matColumnDef="expandedDetail">
            <td mat-cell *matCellDef="let element" [attr.colspan]="displayedColumns.length">
              <div class="example-element-detail"
                [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
                <div class="inner-table mat-elevation-z8" *ngIf="expandedElement === element">
                  <table mat-table [dataSource]="getIssueTypes(element)" class="mat-elevation-z8">

                    <!-- Define inner table columns -->
                    <ng-container matColumnDef="typeName">
                      <th mat-header-cell *matHeaderCellDef style="background-color: #004869; color: white;"> Issue Type
                      </th>
                      <td mat-cell *matCellDef="let issue"> {{issue.typeName}} </td>
                    </ng-container>

                    <ng-container matColumnDef="open">
                      <th mat-header-cell *matHeaderCellDef style="background-color: #004869; color: white;"> Open </th>
                      <td mat-cell *matCellDef="let issue"> {{issue.open}} </td>
                    </ng-container>

                    <ng-container matColumnDef="closed">
                      <th mat-header-cell *matHeaderCellDef style="background-color: #004869; color: white;"> Closed
                      </th>
                      <td mat-cell *matCellDef="let issue"> {{issue.closed}} </td>
                    </ng-container>

                    <ng-container matColumnDef="inprogress">
                      <th mat-header-cell *matHeaderCellDef style="background-color: #004869; color: white;"> In
                        Progress
                      </th>
                      <td mat-cell *matCellDef="let issue"> {{issue.inProgress}} </td>
                    </ng-container>

                    <!-- Header and row definitions -->
                    <tr mat-header-row *matHeaderRowDef="innerDisplayedColumns"></tr>
                    <tr mat-row *matRowDef="let issueType; columns: innerDisplayedColumns;"></tr>
                  </table>
                </div>
              </div>
            </td>

          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let element; columns: displayedColumns;" (click)="toggleRow(element)"></tr>
          <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
        </table>
      </div>
    </div>

    <!-- Pie Chart Section -->
    <div style="width: 50%; margin-left: 10px;height: 300px; overflow: auto;">
      <!-- <div>
        <div style="display: block">
          <canvas baseChart
                  [datasets]="barChartData"
                  [labels]="barChartLabels"
                  [options]="barChartOptions"
                  [legend]="barChartLegend"

                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)">
          </canvas>
        </div>
      </div> -->
      <!-- bar-chart.component.html -->
<!-- issue-dashboard.component.html -->
<div style="display: block;">
  <!-- <canvas baseChart
        [data]="barChartData"
        [options]="barChartOptions"
        [plugins]="barChartPlugins"
        [legend]="barChartLegend"
        [type]="'bar'"
        (chartHover)="chartHovered($event)"
        (chartClick)="chartClicked($event)">
</canvas> -->
<!-- your-component.component.html -->
<!-- <div #charts></div> -->
<!-- <div class="chart-container">
  
    <canvas baseChart
            [data]="barChartData"
            [options]="barChartOptions"
            [plugins]="barChartPlugins"
            [legend]="barChartLegend"
            [type]="'bar'"
            (chartHover)="chartHovered($event)"
            (chartClick)="chartClicked($event)">
    </canvas>

  
</div> -->
<div class="chart-container">
  <canvas baseChart
          [data]="barChartData"
          [options]="barChartOptions"
          [legend]="barChartLegend"
          [type]="'bar'"
          (chartHover)="chartHovered($event)"
          (chartClick)="chartClicked($event)">
  </canvas>
</div>



</div>


      




    </div>

  </div>
</div>